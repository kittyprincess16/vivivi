let poly,delay,reverb,gridSpacing=40,notes=["C","D","E","G"],octave=4,direction=1,W=window.innerWidth,H=window.innerHeight;function setup(){poly=new p5.PolySynth,delay=new p5.Delay,reverb=new p5.Reverb,reverb.process(poly,2,2);let e=0,n=["c","l","i","c"," k","ã€°","f","o","r","ã€°","s","o","u","n","d","!"];for(let o=0;o<H-2*gridSpacing;o+=gridSpacing)for(let t=gridSpacing;t<W-gridSpacing;t+=gridSpacing){let i;window.chrome?(e>n.length-1?i=createP("ã€°"):(i=createP(n[e]),i.class("sound-warning")),e++):i=createP("ã€°"),i.position(t,o),i.mousePressed(changeEmoji),i.mouseOver(changeEmoji)}}function mousePressed(){userStartAudio()}function changeEmoji(){userStartAudio();let e=floor(random(notes.length));random(1)<.1&&(octave+=direction),octave>=6&&(direction=-1),octave<=4&&(direction=1),poly.play(notes[e]+octave,.15,0,.25),this.html(randomEmoji())}function randomEmoji(){let e,n=["ðŸŒµ","ðŸŒ²","ðŸŒ³","ðŸŒ´","ðŸŒ±","ðŸŒ¿","â˜˜ï¸","ðŸ€","ðŸƒ","ðŸŒ¾","ðŸŒ·","ðŸŒ¹","ðŸŒº","ðŸŒ¸","ðŸŒ¼","ðŸŒ»","ðŸ„","ðŸ…","ðŸ¥•","ðŸ“"],o=["ðŸ›","ðŸ","ðŸž","ðŸŒ","ðŸœ","ðŸ•·","ðŸ¦—","ðŸ","ðŸ¦Ž","ðŸ€","ðŸ‡","ðŸ¦‹","ðŸ¦”","ðŸ•Š"];if(random(1)<.03){e=o[floor(random(o.length))]}else{e=n[floor(random(n.length))]}const t=document.querySelector("head > link[rel='icon']");return newFavicon=faviconTemplate`${e}`,t.setAttribute("href",`data:image/svg+xml,${newFavicon}`),e}function faviconTemplate(e,n){return`\n    <svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22>\n      <text y=%22.9em%22 font-size=%2290%22>\n        ${n}\n      </text>\n    </svg>\n  `.trim()}